<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>EmoReg</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.16.0/dist/tf.min.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- TOP BAR -->
<header class="topbar">
  <button id="menuBtn" class="dotBtn">â‹®</button>
  <span class="title">EmoReg</span>
</header>

<!-- THREE DOT MENU -->
<div id="menuPanel" class="menu hidden">
  <button id="closeMenu">âœ• Close</button>

  <h3>Settings & Insights</h3>

  <label class="toggle">
    <input type="checkbox" id="darkToggle">
    Dark Mode
  </label>

  <!-- âœ… ADDED HERE -->
  <button id="clearHistoryBtn" class="secondary">
    ğŸ§¹ Clear Emotion History
  </button>

  <h4>Most Frequent Emotion</h4>
  <p id="mostEmotion">â€“</p>

  <h4>Emotion by Time</h4>
  <p id="timeSummary">â€“</p>

  <h4>Emotion History</h4>
  <ul id="historyList"></ul>
</div>

<!-- PAGE 1 -->
<section id="page-welcome" class="page active">
  <h2>ğŸ‘‹ Welcome</h2>
  <input id="usernameInput" placeholder="Enter your name">
  <button id="continueBtn">Continue</button>
</section>

<!-- PAGE 2 -->
<section id="page-home" class="page">
  <h2 id="greetText"></h2>
  <button id="goEmotion">ğŸ˜Š Emotion Recognition</button>
  <button id="goInfo">ğŸ“˜ Information</button>
</section>

<!-- PAGE 3 -->
<section id="page-emotion" class="page">
  <video id="video" autoplay playsinline></video>
  <img id="preview" />

  <button id="startCamera">ğŸ“· Start Camera</button>
  <button id="switchCamera">ğŸ”„ Switch Camera</button>

  <label class="uploadBig">
    ğŸ“ Upload Image
    <input type="file" id="uploadImage" accept="image/*" hidden>
  </label>

  <button id="analyzeEmotion">âœ¨ Analyze Emotion</button>

  <p id="emotionResult"></p>
  <p id="emotionHint"></p>

  <button class="secondary" id="backHome">â† Back</button>
</section>

<!-- PAGE 4 -->
<section id="page-info" class="page">
  <h2>ğŸ“˜ About This App</h2>

  <h3>Autism Spectrum Disorder</h3>
  <p>
    Autism Spectrum Disorder is a neurodevelopmental condition that affects
    communication, emotional expression, and social interaction.
  </p>

  <h3>How EmoReg Helps</h3>
  <p>
    EmoReg uses AI-based facial emotion recognition to improve emotional
    awareness and assist users and caregivers.
  </p>

  <button class="secondary" id="backFromInfo">â† Back</button>
</section>

<script src="script.js"></script>
</body>
</html>
